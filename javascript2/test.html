<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test.html</title>
</head>
<body>
    <button onclick="doIt()">작업시작</button>

    <script>
        async function doIt(){
            console.log("작업을 시작했습니다.");
            /*
                await은 Promise가 해결될때까지 기다린다(스레드가 blocking되는 것은 아니다)
                만일 해결된다면 결과 데이터가 리턴된다.
                //함수를 실행하다가 await를 만나면 멈춤!(promise가 해결될떄까지 실행의흐름이 다른곳에서 대기) 
                // -> 대기하다가 돌아올수도있고, 대기하면서 다른작업을 하고있을수도있다!(실행의흐름이 잡혀있지는 않는다.)
                대기하다가 해결되면, promise에서 해결된 값이 리턴
                ==> 함수가 리턴되기까지 시간이 걸림
                ==> awai은 비동기함수안에서 실행되되기떄문에 표시를 해줘야함 (async붙이기!)
            */
            const res = await fetch("http://localhost:8888/Step07Final/ajax/member.jsp");
            const data = await res.json(); //얘도 promise
            console.log(data);
            console.log("doIt함수가 리턴됩니다.")

        }

 
    </script>
</body>
</html>